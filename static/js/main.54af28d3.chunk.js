(this["webpackJsonpmovie-recommender"]=this["webpackJsonpmovie-recommender"]||[]).push([[0],{14:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIeSURBVFiF7Zc/S1xBFMV/eYlI4lq4CoLaCfkC0VRaBEFbDbGyEiy0M98gQdFOEZFIyiVYWSVVUAjkA5gmxL+gJCCKoO6uGxVdtZg72clz5u28+LaKFw6z7D1z7pl5l3nz4D7ixwPgFbAE7Ak+Ay8lV9F4BCwA1w58AB5W0sBERHGNsUoVrwfOPAz8Bup8RQPjdwqYBrYEU0CNkX8BVHtoPhaury6gmmeZ26tZotRYI5a8CyMxdAHojBDrEE5fDAO9vrr6ETwNb4kROvcF9XzLRUG4XrrawGoE8YeMx8Ckh4EJIBtD90984vY2fQxxAuC9hacxz9+N7asLqA5/C3wTvMHd9T3AIqXOXgS6Hdw4uv9x1AMzwDZwKNhANVTK4KWB16gu3wWKwDlwAKwA40CjwU+hGnfT0N1GHUxpTWqQYram2jEE+4F9B89EDhiQOY2iYeOty8J55yAUgXYRGgWuPIprXAHDMve5aNl4c6De57ZkRgQ6IgSicAE8E42Mg7NLxMr0Efz1H4prLBuLcO2UNVFAXSxa7lBcP8Zm0crbOOFTS8eaTG5z5H0joNQDmy6CLY5lbLijAYAmGbO2pMtATsbaBAxUhTS9DJzK+CQBA2FNLwP6/+sEDVhvywHqHHCRLxM0YFvsrwAYQnX9kYGCEM4TKFyUMR+q8R0YLDc56k7ni66oAuW+Yn4CJ0Ar6hZ75ok86gU3S+lIvw9r3ADFpUX+dTxdrwAAAABJRU5ErkJggg=="},16:function(e,t){e.exports="data:image/png;base64,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"},21:function(e,t,a){},25:function(e,t,a){e.exports=a.p+"static/media/loading.3a9eb038.png"},28:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),o=a.n(s),i=(a(33),a(3)),c=a(4),l=a(6),m=a(5),A=(a(21),a(7),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).hoverChange=function(t){e.setState({hover:t})},e.state={hover:"false"},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{onMouseOver:function(){e.hoverChange("true")},onMouseOut:function(){e.hoverChange("false")}},this.props.children),r.a.createElement("div",{className:"bg-black-80 white f6 ba br2 b--black pa2",style:{display:"true"===this.state.hover?"block":"none",position:"fixed",width:"160px",zIndex:20}},this.props.tip))}}]),a}(n.Component)),h=a(14),d=a.n(h),u=a(1),p=function(e){var t=e.Id,a=e.Title,n=e.rating,s=e.ratings,o=e.Year,i=e.Genre;e.onMovieClick,e.routeChange;return null!==a.match(/^[/"][0-9a-zA-Z:. ]+,[0=9a-zA-Z:. ]+[/"]$/)&&(a=a.slice(1,-1).split(", ")[1]+" "+a.slice(1,-1).split(", ")[0]),r.a.createElement(u.b,{to:"/movie/".concat(t)},r.a.createElement("div",{key:t,className:"tc bg-light-green dib my-card br3 pa3 ma2 grow bw2 shadow-5 pointer",id:"main_".concat(t)},r.a.createElement("div",{id:"sub_".concat(t)},r.a.createElement(A,{tip:a},r.a.createElement("h2",{className:"text-ellipsis",id:"title_".concat(t)},a)),r.a.createElement("p",{id:"year_".concat(t)},o),r.a.createElement(A,{tip:i},r.a.createElement("p",{className:"text-ellipsis",id:"genre_".concat(t)},i)),r.a.createElement("div",{className:"flex justify-between",id:"sub2_".concat(t)},r.a.createElement("div",{className:"flex justify-start justify-items-center pa2 ",id:"sub3_".concat(t)},r.a.createElement("span",{className:"f7 pt",id:"rating_".concat(t)},n)),r.a.createElement("div",{className:"flex justify-end justify-items-center pa2",id:"sub4_".concat(t)},r.a.createElement("img",{id:"icon_".concat(t),src:d.a,alt:"",height:"15px",width:"auto"}),r.a.createElement("span",{id:"ratings_".concat(t),className:"f7 pt pl1"},s))))))},g=a(25),f=a.n(g),v=function(){return r.a.createElement("div",null,r.a.createElement("img",{className:"my-spin-loader",src:f.a,alt:"",width:"70px",height:"70px"}))},E=function(e){var t=e.movies,a=e.classes,n=e.genre,s=t.map((function(e){var t=e.Id,a=e.Title,n=e.Genre,s=e.Year,o=e.ratings,i=e.avg;return r.a.createElement(p,{Id:t,Title:a,rating:i,ratings:o,Year:s,Genre:n,key:t})}));return r.a.createElement("div",null,t.length>0?r.a.createElement("div",{className:a,id:n},s):r.a.createElement(v,null))},b=function(e){var t,a=e.genre,n=e.navigation,s=e.location,o=e.path;return r.a.createElement("div",{className:"flex justify-between pl3 pr3 tc"},r.a.createElement("h2",null,a),r.a.createElement(u.b,{to:"See All"===n?{pathname:o,state:{from:s.pathname}}:(null===(t=s.state)||void 0===t?void 0:t.from)||"similarmovies"===s.pathname.split("/")[1]&&s.pathname.replace("similarmovies","movie")||"/"},r.a.createElement("p",{className:"link f6 blue dim dib pointer",id:a},n)))},w=function(e){var t=e.movies;return r.a.createElement("div",null,r.a.createElement("span",{className:"tc justify-items-center pa3"},t))},S=a(2),k="https://floating-reaches-01708.herokuapp.com/",y="https://ts-recommender-api-11798.herokuapp.com/",N=a(42),C=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={movies:[]},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;"Similar to"===this.props.genre.slice(0,10)&&this.props.movieId!==e.movieId&&fetch("".concat(y,"similarmovies/").concat(this.props.movieId),{method:"GET",headers:{Authorization:"Bearer ".concat(this.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(e){return t.setState({movies:e})}))}},{key:"componentDidMount",value:function(){var e=this;"popularmovies"===this.props.genre?fetch("".concat(y).concat(this.props.genre)).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t})})).catch((function(e){alert("Failed to load the data. Please check your internet connection and try again after sometime")})):"recommendations"===this.props.genre?this.props.refreshToken().then((function(t){fetch("".concat(y).concat(e.props.genre),{method:"GET",withCrendentials:!0,credentials:"include",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t})})).catch((function(e){alert("Failed to load the data. Please check your internet connection and try again after sometime")}))})).catch((function(t){e.setState({movies:"Please login and rate some movies to get recommendations"})})):"Similar to"===this.props.genre.slice(0,10)?fetch("".concat(y,"similarmovies/").concat(this.props.movieId)).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t})})).catch((function(e){alert("Failed to load the data. Please check your internet connection and try again after sometime")})):fetch("".concat(y,"movies/").concat(this.props.genre,"?offset=1&limit=20")).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.results})})).catch((function(e){alert("Failed to load the data. Please check your internet connection and try again after sometime")}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,{genre:this.props.genre,navigation:"See All",location:this.props.location,path:"Similar to"===this.props.genre.slice(0,10)?"/similarmovies/".concat(this.props.movieId):"/".concat(this.props.genre)}),"Please rate the movies as per your interest to start seeing the movies recommended by our system"===this.state.movies[0]||"No sufficient ratings"===this.state.movies[0]||"Please login and rate some movies to get recommendations"===this.state.movies?r.a.createElement(w,{movies:this.state.movies}):r.a.createElement(E,{movies:this.state.movies,classes:"my-h-scroll",genre:this.props.genre}))}}]),a}(n.Component),T=Object(S.i)(Object(N.a)(C)),U=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getMovieTitle=function(t){fetch("".concat(y,"movie/").concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({movieTitle:t[0].Title&&t[0].Title||t[0]})}))},e.state={genredmovies:[],movieTitle:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;"popularmovies"===this.props.match.params.genre?fetch("".concat(y).concat(this.props.match.params.genre)).then((function(e){return e.json()})).then((function(t){return e.setState({genredmovies:t})})):"recommendations"===this.props.match.params.genre?this.props.refreshToken().then((function(t){fetch("".concat(y).concat(e.props.match.params.genre),{method:"GET",withCrendentials:!0,credentials:"include",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){return e.setState({genredmovies:t})})).catch((function(e){alert("Failed to load the data. Please check your internet connection and try again after sometime")}))})).catch((function(t){e.setState({genredmovies:"Please login and rate some movies to get recommendations"})})):this.props.match.params.similartomovieId?(this.getMovieTitle(this.props.match.params.similartomovieId),fetch("".concat(y,"similarmovies/").concat(this.props.match.params.similartomovieId)).then((function(e){return e.json()})).then((function(t){return e.setState({genredmovies:t})}))):fetch("".concat(y,"movies/").concat(this.props.match.params.genre)).then((function(e){return e.json()})).then((function(t){return e.setState({genredmovies:t.results})}))}},{key:"render",value:function(){var e,t;return r.a.createElement(r.a.Fragment,null,"File not found"===this.state.movieTitle?r.a.createElement("div",{className:"tc",style:{height:"70vh",paddingTop:"22vh"}},r.a.createElement("h3",{className:"f6"},"Error 404: File not found")):r.a.createElement("div",null,r.a.createElement(b,{genre:(null===(e=this.props.match.params)||void 0===e?void 0:e.genre)||"Similar to ".concat(this.state.movieTitle),navigation:"Back",location:this.props.location,path:"/"}),"Please rate the movies as per your interest to start seeing the movies recommended by our system"===this.state.genredmovies[0]||"No sufficient ratings"===this.state.genredmovies[0]||"Please login and rate some movies to get recommendations"===this.state.genredmovies?r.a.createElement(w,{movies:this.state.genredmovies}):r.a.createElement("div",{className:"my-v-scroll"},r.a.createElement(E,{movies:this.state.genredmovies,classes:"tc dib",genre:(null===(t=this.props.match.params)||void 0===t?void 0:t.genre)||"Similar to ".concat(this.state.movieTitle)}))))}}]),a}(n.Component),P=Object(S.i)(Object(N.a)(U)),j=a(10),F=function(e){return e.modalState?r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-inner br2 ba dark-gray b--black-10 mv6 w-100 mw6 center shadow-5"},r.a.createElement("button",{className:"modal-close-btn bg-transparent pointer",onClick:function(){e.toggle()}},"X"),e.children)):""},O=a(26),I=a.n(O),x=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={rating:0},e}return Object(c.a)(a,[{key:"onRateOk",value:function(){var e=this;this.props.setToastMessage("Please wait while we record your rating"),this.props.toggleToaster(),this.props.refreshToken().then((function(t){fetch("".concat(y,"rateMovie?movieId=").concat(e.props.movieId,"&rating=").concat(e.state.rating),{method:"POST",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){"Success"===t[0]?(e.props.setToastMessage("Your rating for the movie is recorded"),e.props.toggleToaster(),e.props.toggleModal(!1)):alert("Unkown Error! Try again after sometime")}))})).catch((function(t){e.props.setToastMessage("Session expired. Please log out from the browser and login again"),e.props.toggleToaster(),e.props.toggleModal(!1)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"br3 bg-light-green bw2 tc justify-center shadow-5 pa3"},r.a.createElement("p",{className:"f4"},"How well did you like the movie?"),r.a.createElement("p",{className:"f6 mr2"},this.props.Title),r.a.createElement("div",{className:"flex justify-center"},r.a.createElement(I.a,{count:5,onChange:function(t){e.setState({rating:t})},size:24,isHalf:!0,emptyIcon:r.a.createElement("i",{className:"far fa-star"}),halfIcon:r.a.createElement("i",{className:"fa fa-star-half-alt"}),fullIcon:r.a.createElement("i",{className:"fa fa-star"}),activeColor:"#ffd700"})),r.a.createElement("div",{className:"flex justify-center"},this.props.isSignedIn?r.a.createElement("p",{className:"f6 mr2 dib black-80 bg-animate hover-bg-black hover-white no-underline pv2 ph4 br-pill ba b--black-20 pointer",onClick:function(){e.onRateOk()}},"Ok"):r.a.createElement("p",null),r.a.createElement("p",{className:"f6 ml2 dib black-80 bg-animate hover-bg-black hover-white no-underline pv2 ph4 br-pill ba b--black-20 pointer",onClick:function(){e.props.toggleModal(!1)}},"Cancel")))}}]),a}(n.Component),R=Object(N.a)(x),B=function(e){return e.toasterState?r.a.createElement("div",{className:"toaster"},r.a.createElement("span",{className:"f6 pa1 white"},e.message),r.a.createElement("span",{className:"f6 pa1 green pointer",onClick:function(){e.toggle()}},"X")):""},G=function(e){var t=e.userId,a=e.isSignedIn,s=e.refreshToken,o=Object(n.useState)(!1),i=Object(j.a)(o,2),c=i[0],l=i[1],m=Object(n.useState)(!1),A=Object(j.a)(m,2),h=A[0],p=A[1],g=Object(n.useState)(""),f=Object(j.a)(g,2),E=f[0],b=f[1],w=Object(n.useState)({}),k=Object(j.a)(w,2),N=k[0],C=k[1],U=Object(S.h)().movieId;Object(n.useEffect)((function(){fetch("".concat(y,"movie/").concat(U)).then((function(e){return e.json()})).then((function(e){return C(e[0])})).catch((function(e){return console.log}))}),[U]);var P=function(){p(!h),setTimeout((function(){p(!1)}),2e3)};return r.a.createElement(r.a.Fragment,null,"File not found"===N?r.a.createElement("div",{className:"tc",style:{height:"70vh",paddingTop:"22vh"}},r.a.createElement("h3",{className:"f6"},"Error 404: File not found")):N.Id?r.a.createElement("div",null,r.a.createElement("div",{className:"tc bg-light-green br3 pa3 ma2 bw2 shadow-5",id:N.Id},r.a.createElement("div",null,r.a.createElement("div",{className:"flex justify-between"},r.a.createElement(u.b,{to:"/"},r.a.createElement("p",{className:"f6 dib black-80 bg-animate hover-bg-black hover-white no-underline pv2 ph4 br-pill ba b--black-20 pointer"},"Back to Home")),r.a.createElement("h2",null,N.Title),r.a.createElement("p",{className:"f6 dib black-80 bg-animate hover-bg-black hover-white no-underline pv2 ph4 br-pill ba b--black-20 pointer",onClick:function(){l(!0)}},"Rate movie")),r.a.createElement("p",null,N.Year),r.a.createElement("p",null,N.Genre),r.a.createElement("div",{className:"flex justify-between"},r.a.createElement("p",null,N.avg),r.a.createElement("div",{className:"flex justify-end justify-items-center pa2"},r.a.createElement("img",{src:d.a,alt:"",height:"20px",width:"auto"}),r.a.createElement("span",{className:"pt pl1"},N.ratings))))),r.a.createElement(T,{userId:t,genre:"Similar to "+N.Title,movieId:U,isSignedIn:a,refreshToken:s}),r.a.createElement(F,{modalState:c,toggle:l},r.a.createElement(R,{Title:N.Title,movieId:N.Id,userId:t,isSignedIn:a,toggleModal:l,toggleToaster:P,setToastMessage:b,refreshToken:s})),r.a.createElement(B,{toasterState:h,toggle:P,message:E})):r.a.createElement(v,null))},M=a(16),D=a.n(M),L=function(e){var t,a,n=e.isSignedIn,s=e.userType,o=e.route,i=e.userAuth,c=e.avatarId,l=Object(S.g)();return r.a.createElement("nav",{className:"flex-grow pa flex items-center justify-end bb b--white-10 bg-black my-top"},"home"!==o?r.a.createElement(u.b,{to:"/"},r.a.createElement("p",{className:"f6 link dib white dim mr3 mr4-ns pointer"},"Home")):r.a.createElement(r.a.Fragment,null),"search"!==o?r.a.createElement(u.b,{to:"/search"},r.a.createElement("p",{className:"f6 link dib white dim mr3 mr4-ns pointer"},"Search")):r.a.createElement(r.a.Fragment,null),"Admin"===s&&n&&"admin"!==o?r.a.createElement(u.b,{to:"/users"},r.a.createElement("p",{className:"f6 link dib white dim mr3 mr4-ns pointer"},"Admin")):r.a.createElement(r.a.Fragment,null),n?r.a.createElement(r.a.Fragment,null):r.a.createElement(u.b,{to:{pathname:"/signin",state:{from:"/signup"!==l.pathname&&l.pathname||(null===(t=l.state)||void 0===t?void 0:t.from)||"/"}}},r.a.createElement("p",{className:"f6 link dib white dim mr3 mr4-ns pointer"},"Sign In")),n?r.a.createElement(r.a.Fragment,null):r.a.createElement(u.b,{to:{pathname:"/signup",state:{from:"/signin"!==l.pathname&&l.pathname||(null===(a=l.state)||void 0===a?void 0:a.from)||"/"}}},r.a.createElement("p",{className:"f6 dib white bg-animate hover-bg-white hover-black no-underline pv2 ph4 br-pill ba b--white-20 pointer"},"Sign Up")),n?r.a.createElement("p",{onClick:function(){i(!1)},className:"f6 dib white bg-animate hover-bg-white hover-black no-underline pv2 ph4 br-pill ba b--white-20 pointer"},"Sign Out"):r.a.createElement(r.a.Fragment,null),n&&"profile"!==o?r.a.createElement(u.b,{to:"/generalinformation"},r.a.createElement("div",{className:"mh3 mt3 mb2"},r.a.createElement("img",{className:"my-profile pointer",src:c?"https://robohash.org/".concat(c,"?set=set2&size=30x30"):D.a,alt:"",width:"30px",height:"30px"}))):r.a.createElement(r.a.Fragment,null))},V=function(e){var t=e.errors;return r.a.createElement("span",{className:"red mb3 bg-black hover-bg-red hover-black f6"},t)},K=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onEmailChange=function(t){e.setState({email:t.target.value})},e.onPasswordChange=function(t){e.setState({password:t.target.value})},e.authenticateUser=function(){e.setState({errors:""}),fetch("".concat(k,"signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,password:e.state.password})}).then((function(e){return e.json()})).then((function(t){"Invalid Email or Password"===t||"Error Logging in. Please check your network and try again"===t?e.setState({errors:t}):(e.props.cookies.set("id_token",t.id_token,{path:"/",maxAge:86400}),e.props.cookies.set("refresh_token",t.refresh_token,{path:"/",maxAge:86400}),e.props.getUser(t))})).catch(alert)},e.state={email:"",password:"",errors:""},e}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.props.location;return r.a.createElement("article",{className:"br2 ba bg-light-green dark-gray b--black-10 mv6 w-100 w-50-m w-25-l mw6 center shadow-5"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure center"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f3 fw6 ph0 mh0 center"},"Sign In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),r.a.createElement(V,{errors:this.state.errors}),r.a.createElement("div",{className:"my-center flex justify-between mt3"},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in",onClick:this.authenticateUser}),r.a.createElement(u.b,{to:{pathname:"/signup",state:{from:"/signin"!==t.pathname&&t.pathname||(null===(e=t.state)||void 0===e?void 0:e.from)||"/"}}},r.a.createElement("p",{className:"f6 link dim black db pointer"},"Sign up"))))))}}]),a}(n.Component),Q=Object(S.i)(Object(N.a)(K)),q=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onNameChange=function(t){t.target.value.trim().length<=0?e.setState({nameError:"Name cannot be empty\r\nAll spaces are not allowed"}):e.setState({name:t.target.value,nameError:""})},e.onEmailChange=function(t){t.target.value.trim().length<=0?e.setState({emailError:"Email cannot be empty\r\nAll spaces are not allowed"}):null===t.target.value.match(/^[a-zA-Z0-9.]+@([a-zA-Z]+\.[a-zA-Z]{2,})$/)?e.setState({emailError:"Invalid email format"}):e.setState({email:t.target.value,emailError:""})},e.onPasswordChange=function(t){t.target.value.trim().length<=8&&(null===t.target.value.match(/[^a-zA-Z0-9]+/)||null===t.target.value.match(/[0-9]+/)||null===t.target.value.match(/[A-Z]+/)||null===t.target.value.match(/[a-z]+/))?e.setState({passwordError:"Please enter a secure password with more than 8 characters having atleast one special character, one Upper case, one Lower case letter and a digit"}):t.target.value.trim().length<=8?e.setState({passwordError:"Password should contain more than 8 characters"}):null===t.target.value.match(/[^a-zA-Z0-9]+/)||null===t.target.value.match(/[0-9]+/)||null===t.target.value.match(/[A-Z]+/)||null===t.target.value.match(/[a-z]+/)?e.setState({passwordError:"Password should contain atleast one special character, one Upper case, one Lower case letter and a digit"}):e.setState({password:t.target.value,passwordError:""})},e.onSignUp=function(){e.setState({errors:""}),""===e.state.nameError&&""===e.state.emailError&&""===e.state.passwordError?fetch("".concat(k,"signup"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e.state.name,email:e.state.email,password:e.state.password})}).then((function(e){return e.json()})).then((function(t){"The email already exists."===t?e.setState({errors:t}):(e.props.cookies.set("id_token",t.id_token,{path:"/",maxAge:86400}),e.props.cookies.set("refresh_token",t.refresh_token,{path:"/",maxAge:86400}),e.props.getUser(t))})).catch((function(e){alert(e+"\r\nServer could be down due to maintanance.\r\nTry again after sometime.\r\nElse try after troubleshooting your network connection")})):alert("All fields are mandatory. Please fill!")},e.state={name:"",email:"",password:"",nameError:"",emailError:"",passwordError:""},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("article",{className:"br2 ba bg-light-green dark-gray b--black-10 mv6 w-100 w-50-m w-25-l mw6 center shadow-5"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure center"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f4 fw6 ph0 mh0 center"},"Sign Up"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"user-name"},"Name*"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"user-name",id:"user-name",onChange:this.onNameChange}),r.a.createElement(V,{errors:this.state.nameError})),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email*"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"register-email-address",onChange:this.onEmailChange}),r.a.createElement(V,{errors:this.state.emailError})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password*"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"register-password",onChange:this.onPasswordChange}),r.a.createElement(V,{errors:this.state.passwordError}))),r.a.createElement(V,{errors:this.state.errors}),r.a.createElement("div",{className:"flex justify-center mt3"},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign Up",onClick:this.onSignUp})))))}}]),a}(n.Component),Y=Object(N.a)(q),Z=function(e){return r.a.createElement("div",{className:"my-v-scroll"},e.children)},X=function(e){var t=e.searchChange,a=e.loadResults;return r.a.createElement("div",{className:"pa2"},r.a.createElement("input",{className:"pa3 ba b--green bg-lightest-blue",type:"search",placeholder:"type and click enter",onChange:t,onKeyPress:function(e){"Enter"===e.key&&a()}}))},J=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).loadResults=function(){e.state.searchfield.length>=3&&fetch("".concat(y,"search/").concat(e.state.searchfield)).then((function(e){return e.json()})).then((function(t){return e.setState({robots:t.results})}))},e.onSearch=function(t){e.setState({searchfield:t.target.value})},e.state={robots:[],searchfield:""},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"tc"},r.a.createElement(X,{searchChange:this.onSearch,loadResults:this.loadResults}),"No Results Found"===this.state.robots[0]?r.a.createElement("div",{style:{paddingTop:"22vh"}},r.a.createElement("h3",{className:"f2"},"No Results Found")):0===this.state.robots.length?r.a.createElement("div",null,r.a.createElement("h3",{className:"pa3 f6"},'Enter seach text in search bar and press "Enter" to view results')):r.a.createElement(Z,null,r.a.createElement(E,{movies:this.state.robots,classes:"tc dib"})))}}]),a}(n.Component),W=function(e){var t=e.Options,a=e.active,n=t.map((function(e){var t={listStyle:"none",paddingTop:"10px",paddingLeft:"10px",paddingBottom:"10px",borderRadius:"5px"},n={width:"5px",height:"auto",marginLeft:"auto",backgroundColor:"green",color:"green",display:"none"};return e===a&&(t.backgroundColor="lightslategray",n.display="inline-block"),r.a.createElement(u.b,{to:"/".concat(e.toLowerCase().replace(" ","")),key:e},r.a.createElement("li",{style:t,className:"flex justify-between pointer no-underline",key:e},r.a.createElement("span",null,e),r.a.createElement("div",{style:n},"|")))}));return r.a.createElement("ul",{style:{width:"15vw",height:"90vh",backgroundColor:"lightseagreen",textAlign:"left",paddingLeft:"0%",margin:"0%",borderRadius:"5px"}},n)},z=function(e){var t=e.action,a=e.takeAction;return r.a.createElement("span",{style:{backgroundColor:"lightsteelblue",marginTop:"auto",marginBottom:"auto",padding:"5px",borderRadius:"5px",fontWeight:"500"},className:"pull-right pointer grow",onClick:a},t)},H=function(e){return r.a.createElement("article",{className:"br2 ba bg-light-green dark-gray b--black-10 w-100 center shadow-5"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure center"},e.children,r.a.createElement("div",{className:"my-center flex justify-between mt3"},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",disabled:e.disableSubmit,value:(null===e||void 0===e?void 0:e.submitLabel)||"Create",onClick:e.onFormSubmit}),r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Cancel",onClick:e.toggle})))))},_=[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11},{id:12},{id:13},{id:14},{id:15},{id:16},{id:17},{id:18},{id:19},{id:20},{id:21},{id:22},{id:23},{id:24},{id:25},{id:26},{id:27},{id:28},{id:29},{id:30},{id:31},{id:32},{id:33},{id:34},{id:35},{id:36},{id:37},{id:38},{id:39},{id:40},{id:41},{id:42},{id:43},{id:44},{id:45},{id:46},{id:47},{id:48},{id:49},{id:50},{id:51},{id:52},{id:53},{id:54},{id:55},{id:56},{id:57},{id:58},{id:59},{id:60},{id:61},{id:62},{id:63},{id:64},{id:65},{id:66},{id:67},{id:68},{id:69},{id:70},{id:71},{id:72},{id:73},{id:74},{id:75},{id:76},{id:77},{id:78},{id:79},{id:80},{id:81},{id:82},{id:83},{id:84},{id:85},{id:86},{id:87},{id:88},{id:89},{id:90},{id:91},{id:92},{id:93},{id:94},{id:95},{id:96},{id:97},{id:98},{id:99},{id:100}],$=function(e){var t=e.id,a=e.selectedId,n=e.setSelectedId,s=e.setAvatar;return r.a.createElement("div",{className:"tc dib br3 pa3 ma2 grow bw2 shadow-5 ".concat(a==t?"avatar-selected":""),id:t,onClick:function(){n(t),s(t)}},r.a.createElement("img",{src:"https://robohash.org/".concat(t,"?set=set2&size=60x60"),alt:"",height:"60px",width:"auto"}))},ee=function(e){var t=Object(n.useState)(e.userPrefs.avatar_id),a=Object(j.a)(t,2),s=a[0],o=a[1],i=e.avatars.map((function(t){var a=t.id;return r.a.createElement($,{id:a,key:a,selectedId:s,setSelectedId:o,setAvatar:e.setAvatar})}));return r.a.createElement("div",{className:"scroll"},i)},te=function(e){var t=e.toggleEditUserPopup,a=e.onUserEditFormSubmit,n=e.onUserNameChange,s=e.onUserEmailChange,o=e.user,i=e.setAvatar,c=e.validations,l=e.disableSubmitButton;return r.a.createElement(H,{toggle:t,onFormSubmit:a,submitLabel:"Submit",disableSubmit:l},r.a.createElement("fieldset",{id:"create_movie",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f3 fw6 ph0 mh0 center"},"Edit Profile"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"text"},"Name"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"user-name-edit",id:"edit-user-name",defaultValue:o.name,onChange:n}),r.a.createElement(V,{errors:c.nameErrors})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"text"},"Email"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"user-email-edit",id:"edit-user-email",defaultValue:o.email,onChange:s}),r.a.createElement(V,{errors:c.emailErrors})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"text"},"Profile avatar"),r.a.createElement(ee,{avatars:_,userPrefs:o,setAvatar:i}))),r.a.createElement(V,{errors:c.serverSideErrors}))},ae=function(e){var t=e.toggleChangePasswordPopup,a=e.onChangePasswordFormSubmit,n=e.onOldPasswordChange,s=e.onNewPasswordChange,o=e.onConfirmPasswordChange,i=e.validations,c=e.disableSubmitButton;return r.a.createElement(H,{toggle:t,onFormSubmit:a,submitLabel:"Submit",disableSubmit:c},r.a.createElement("legend",{className:"f4 fw6 ph0 mh0 center black-80"},"Change Password"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6 black-80",htmlFor:"old-password"},"Old Password*"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"old-password",id:"old-password",onChange:n})),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6 black-80",htmlFor:"new-password"},"New Password*"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"new-password",id:"new-password",onChange:s})),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6 black-80",htmlFor:"confirm-password"},"Confirm Password*"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"confirm-password",id:"confirm-password",onChange:o}),r.a.createElement(V,{errors:i.confirmPasswordError})),r.a.createElement(V,{errors:i.errors}))},ne=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).toggleEditUserPopup=function(){e.setState({editUserModal:!e.state.editUserModal,editUserFormValidations:{nameErrors:"",emailErrors:"",serverSideErrors:""}})},e.toggleChangePasswordPopup=function(){e.setState({changePasswordModal:!e.state.changePasswordModal,changePasswordFormValidations:{confirmPasswordError:"",errors:""}})},e.onUserEditFormSubmit=function(){0===e.state.editName.length&&0===e.state.editEmail.length?e.setState({editUserFormValidations:{nameErrors:"Name cannot be empty",emailErrors:"Email cannot be empty",serverSideErrors:""}}):0===e.state.editName.length?e.setState({editUserFormValidations:{nameErrors:"Name cannot be empty",emailErrors:"",serverSideErrors:""}}):0===e.state.editEmail.length?e.setState({editUserFormValidations:{nameErrors:"",emailErrors:"Email cannot be empty",serverSideErrors:""}}):null===e.state.editEmail.match(/^[a-zA-Z0-9.]+@([a-zA-Z]+\.[a-zA-Z]{2,})$/)?e.setState({editUserFormValidations:{nameErrors:"",emailErrors:"Invalid email address format",serverSideErrors:""}}):e.props.refreshToken().then((function(t){fetch("".concat(k,"update-user?name=").concat(e.state.editName,"&email=").concat(e.state.editEmail,"&avatar_id=").concat(e.state.editAvatar),{method:"PUT",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){Object.hasOwnProperty.call(t[0],"id")?(e.props.getUser(t[0]),e.setState({editUserStatus:"User profile is updated successfully",editUserFormValidations:{nameErrors:"",emailErrors:"",serverSideErrors:""}}),e.toggleEditUserPopup(),e.toggleEditUserStatusDisplay()):e.setState({editUserFormValidations:{nameErrors:"",emailErrors:"",serverSideErrors:t}}),e.setState({editName:e.props.user.name,editEmail:e.props.user.email})})).catch((function(e){return alert("Error updating your information. Please try again later",e)}))})).catch(console.log)},e.onChangePasswordFormSubmit=function(){0===e.state.oldPassword.length||0===e.state.newPassword.length||0===e.state.confirmPassword.length?e.setState({changePasswordFormValidations:{errors:"All fields are mandatory"}}):e.state.confirmPassword!==e.state.newPassword?e.setState({changePasswordFormValidations:{confirmPasswordError:"Password did not match. Please reenter the same new password for confirmation"}}):e.props.refreshToken().then((function(t){fetch("".concat(k,"update-password"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))},body:JSON.stringify({id:e.props.user.id,oldPassword:e.state.oldPassword,newPassword:e.state.newPassword})}).then((function(e){return e.json()})).then((function(t){"Success"===t?(e.setState({changePasswordStatus:"Password change is successfull",changePasswordFormValidations:{confirmPasswordError:"",errors:""}}),e.toggleChangePasswordPopup(),e.toggleChangePasswordStatusDisplay()):e.setState({changePasswordFormValidations:{confirmPasswordError:"",errors:t}}),e.setState({oldPassword:"",newPassword:"",confirmPassword:""})})).catch((function(e){return alert("Error occured while updating the password. Please try again after some time")}))})).catch(console.log)},e.onUserNameChange=function(t){e.setState({editName:t.target.value})},e.onUserEmailChange=function(t){e.setState({editEmail:t.target.value})},e.onOldPasswordChange=function(t){e.setState({oldPassword:t.target.value})},e.onNewPasswordChange=function(t){e.setState({newPassword:t.target.value})},e.onConfirmPasswordChange=function(t){e.setState({confirmPassword:t.target.value})},e.toggleEditUserStatusDisplay=function(){e.setState({editUserStatusDisplay:!e.state.editUserStatusDisplay}),setTimeout((function(){e.setState({editUserStatusDisplay:!1})}),2e3)},e.toggleChangePasswordStatusDisplay=function(){e.setState({changePasswordStatusDisplay:!e.state.changePasswordStatusDisplay}),setTimeout((function(){e.setState({changePasswordStatusDisplay:!1})}),2e3)},e.setAvatar=function(t){e.setState({editAvatar:t})},e.areUserDetailsChanged=function(){return e.state.editName&&e.state.editName.length>0&&e.state.editEmail.length>0&&(e.state.editName!==e.props.user.name||e.state.editEmail!==e.props.user.email||e.state.editAvatar!==e.props.user.avatar_id)},e.arePasswordDetailsChanged=function(){return e.state.oldPassword.length>0&&e.state.newPassword.length>0&&e.state.confirmPassword.length>0},e.state={editUserModal:!1,changePasswordModal:!1,editName:"",editEmail:"",editAvatar:"",oldPassword:"",newPassword:"",confirmPassword:"",editUserStatusDisplay:!1,editUserStatus:"",changePasswordStatusDisplay:!1,changePasswordStatus:"",editUserFormValidations:{nameErrors:"",emailErrors:"",serverSideErrors:""},changePasswordFormValidations:{confirmPasswordError:"",errors:""}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({editName:this.props.user.name,editEmail:this.props.user.email,editAvatar:this.props.user.avatar_id})}},{key:"render",value:function(){return r.a.createElement("div",{className:"flex"},r.a.createElement(W,{Options:["General Information","Settings"],active:this.props.activeOption}),r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement("div",null,"General Information"===this.props.activeOption?r.a.createElement("div",null,r.a.createElement("div",{className:"flex justify-end tc mt3"},r.a.createElement(z,{action:"Edit",takeAction:this.toggleEditUserPopup})),r.a.createElement("div",{className:"flex justify-center pa3"},r.a.createElement("div",{className:"flex justify-between mh5"},r.a.createElement("div",{className:"mr2"},r.a.createElement("p",null,"Name:"),r.a.createElement("p",null,"Email:"),r.a.createElement("p",null,"Role:")),r.a.createElement("div",null,r.a.createElement("p",{className:"pull-left"},this.props.user.name),r.a.createElement("p",{className:"pull-left"},this.props.user.email),r.a.createElement("p",{className:"pull-left"},this.props.user.role))),r.a.createElement("div",{className:"mh5"},r.a.createElement("img",{src:this.props.user.avatar_id?"https://robohash.org/".concat(this.props.user.avatar_id,"?set=set2&size=120x120"):D.a,alt:"",width:"120px",height:"120px"})))):r.a.createElement("p",{className:"profile-item-links link dim pointer ph3 black underline",onClick:this.toggleChangePasswordPopup},"Change Password")),r.a.createElement(F,{modalState:this.state.editUserModal,toggle:this.toggleEditUserPopup},r.a.createElement(te,{toggleEditUserPopup:this.toggleEditUserPopup,onUserEditFormSubmit:this.onUserEditFormSubmit,onUserNameChange:this.onUserNameChange,onUserEmailChange:this.onUserEmailChange,user:this.props.user,setAvatar:this.setAvatar,validations:this.state.editUserFormValidations,disableSubmitButton:!this.areUserDetailsChanged()})),r.a.createElement(B,{toasterState:this.state.editUserStatusDisplay,toggle:this.toggleEditUserStatusDisplay,message:this.state.editUserStatus}),r.a.createElement(F,{modalState:this.state.changePasswordModal,toggle:this.toggleChangePasswordPopup},r.a.createElement(ae,{toggleChangePasswordPopup:this.toggleChangePasswordPopup,onChangePasswordFormSubmit:this.onChangePasswordFormSubmit,onOldPasswordChange:this.onOldPasswordChange,onNewPasswordChange:this.onNewPasswordChange,onConfirmPasswordChange:this.onConfirmPasswordChange,validations:this.state.changePasswordFormValidations,disableSubmitButton:!this.arePasswordDetailsChanged()})),r.a.createElement(B,{toasterState:this.state.changePasswordStatusDisplay,toggle:this.toggleChangePasswordStatusDisplay,message:this.state.changePasswordStatus})))}}]),a}(n.Component),re=Object(N.a)(ne),se=function(e){var t=e.contents,a=e.onOptionClick,s=Object(n.useState)(""),o=Object(j.a)(s,2),i=o[0],c=o[1],l=t[0],m=[];for(var A in l)Object.hasOwnProperty.call(l,A)&&m.push(A);var h=m.map((function(e){return r.a.createElement("th",{style:{padding:"5px"},key:e,className:"table-headers-cells"},e)})),d=t.map((function(e){var t=[];for(var n in e)if(Object.hasOwnProperty.call(e,n)){var s=e[n];t.push(s)}var o=t.map((function(e){return r.a.createElement("td",{style:{padding:"5px"},key:e,className:"table-cells"},e)}));return r.a.createElement("tr",{key:Object.hasOwnProperty.call(e,"id")?e.id:e.Id,className:"table-contents"},o,Object.hasOwnProperty.call(e,"id")?r.a.createElement("td",{className:"table-row-options",style:{padding:"5px"}},r.a.createElement("div",{className:"pointer dib",onClick:function(){i!==e.id?c(e.id):c("")}},"...")):r.a.createElement(r.a.Fragment,null),Object.hasOwnProperty.call(e,"id")&&i===e.id?r.a.createElement("div",{style:{position:"absolute",right:"50px",marginTop:"30px"}},r.a.createElement("span",{className:"pointer",style:{borderRadius:"5px",backgroundColor:"lightseagreen",padding:"5px",zIndex:5},onClick:function(){a(e.id,e.role),c("")}},"User"===e.role?"Make Admin":"Remove as Admin")):r.a.createElement(r.a.Fragment,null))}));return r.a.createElement("table",{className:"center",style:{borderCollapse:"collapse",width:"85vw"}},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-headers"},h)),r.a.createElement("tbody",null,d))},oe=function(e){var t=e.totalRecords,a=e.pageLimit,n=e.onPageSelect,s=e.onPageLimitChange,o=e.currentPage,i=Math.ceil(t/a),c=Array.from({length:i},(function(e,t){return t+1})).filter((function(e){return(e<=o+2||e<=5)&&(e>=o-2||e>i-5)})).map((function(e){return r.a.createElement("span",{className:"pointer",key:e,style:e==o?{padding:"5px",borderRadius:"50%",backgroundColor:"gray",color:"white"}:{padding:"5px",borderRadius:"50%"},onClick:function(){n(e)}},e)})),l=o;return r.a.createElement("div",{className:"flex justify-between mt2 pa3"},r.a.createElement("div",{className:"flex justify-start"},r.a.createElement("span",{className:"f6 pt1 pr2"},"Page:"),r.a.createElement("input",{type:"number",style:{width:"40px"},defaultValue:l,onChange:function(e){l=e.target.value<=i?e.target.value:i},onKeyPress:function(e){"Enter"===e.key&&n(l<=i?l:i)}}),r.a.createElement("button",{className:"bg-transparent bn pointer",onClick:function(){n(1)},disabled:1==o},"<<"),r.a.createElement("button",{className:"bg-transparent bn pointer",onClick:function(){n(o-1)},disabled:1==o},"<"),r.a.createElement("div",{style:{display:"flex",width:"fit-content"},className:"ml2 mr2 display-scroll-none"},c),r.a.createElement("button",{className:"bg-transparent bn pointer",onClick:function(){n(o+1)},disabled:o*a>=t},">"),r.a.createElement("button",{className:"bg-transparent bn pointer",onClick:function(){n(i)},disabled:o*a>=t},">>")),r.a.createElement("div",null,r.a.createElement("span",{className:"f6 pt1 pr2"},"".concat((o-1)*a+1," - ").concat(o*a>t?t:o*a," of ").concat(t)),r.a.createElement("select",{name:"Numrecords",id:"dropdown_num_records",defaultValue:a,onChange:s},r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:20},"20"),r.a.createElement("option",{value:30},"50"),r.a.createElement("option",{value:100},"100"))))},ie=function(e){var t=e.toggle,a=e.setMovieTitle,n=e.setMovieGenre,s=e.setMovieYear,o=e.onFormSubmit;return r.a.createElement(H,{toggle:t,onFormSubmit:o},r.a.createElement("fieldset",{id:"create_movie",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f3 fw6 ph0 mh0 center"},"Create Movie"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"text"},"Title"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"title",id:"title",onChange:a})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"text"},"Genre"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"genre",id:"genre",onChange:n})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"text"},"Year"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"year",id:"year",onChange:s}))))},ce=function(e){var t=e.legend,a=e.label,n=e.onConfirmation;return r.a.createElement("div",{style:{backgroundColor:"lightseagreen",padding:"5px",borderRadius:"5px"}},r.a.createElement("legend",{className:"f4 fw6 ph0 mh0 center black-80"},t),r.a.createElement("br",null),r.a.createElement("label",{className:"db fw6 lh-copy f6 black-80",htmlFor:"user-name"},a),r.a.createElement("div",{className:"flex justify-end mt3"},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-light-blue grow pointer f6 dib",type:"submit",value:"Confirm",onClick:n})))},le=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).loadResults=function(){e.state.searchfield.trim().length>=3?(e.setState({currentPage:1}),"Users"===e.props.activeOption?e.props.refreshToken().then((function(t){fetch("".concat(k,"users?offset=").concat((e.state.currentPage-1)*e.state.pageLimit,"&limit=").concat(e.state.pageLimit,"&search=").concat(e.state.searchfield),{method:"GET",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({tableContent:t.results,totalRecords:t.totalRecords})})).catch((function(e){alert("Unkown error occured while fetching users")}))})).catch(console.log):e.props.refreshToken().then((function(t){fetch("".concat(y,"movies?offset=").concat((e.state.currentPage-1)*e.state.pageLimit+1,"&limit=").concat(e.state.pageLimit,"&search=").concat(e.state.searchfield),{method:"GET",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({tableContent:t.results,totalRecords:t.totalRecords[0]})})).catch((function(e){alert("Unknown error occured while fetching users")}))})).catch(console.log)):"Users"===e.props.activeOption?e.props.refreshToken().then((function(t){fetch("".concat(k,"users?offset=").concat((e.state.currentPage-1)*e.state.pageLimit,"&limit=").concat(e.state.pageLimit),{method:"GET",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({tableContent:t.results,totalRecords:t.totalRecords})})).catch((function(e){alert("Unkown error occured while fetching users")}))})).catch(console.log):e.props.refreshToken().then((function(t){fetch("".concat(y,"movies?offset=").concat((e.state.currentPage-1)*e.state.pageLimit+1,"&limit=").concat(e.state.pageLimit),{method:"GET",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({tableContent:t.results,totalRecords:t.totalRecords[0]})})).catch((function(e){alert("Unknown error occured while fetching users")}))})).catch(console.log)},e.onSearch=function(t){e.setState({searchfield:t.target.value})},e.onPageSelect=function(t){e.setState({currentPage:t})},e.onPageLimitChange=function(t){e.setState({pageLimit:t.target.value,currentPage:1})},e.toggleModalState=function(){e.setState({modalState:!e.state.modalState})},e.setMovieTitle=function(t){e.setState({movieTitle:t.target.value})},e.setMovieGenre=function(t){e.setState({movieGenre:t.target.value})},e.setMovieYear=function(t){e.setState({movieYear:t.target.value})},e.createMovie=function(){e.props.refreshToken().then((function(t){fetch("".concat(y,"createMovie?title=").concat(e.state.movieTitle,"&genre=").concat(e.state.movieGenre,"&year=").concat(e.state.movieYear),{method:"POST",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){e.toggleModalState(),e.setState({movieCreationStatus:t[0]}),e.toggleToasterState()})).catch((function(e){alert("Unknown error occured while fetching users")})).finally(e.setState({movieTitle:"",movieGenre:"",movieYear:""}))})).catch(console.log)},e.toggleToasterState=function(){e.setState({toasterState:!e.state.toasterState}),setTimeout((function(){e.setState({toasterState:!1}),e.setState({movieCreationStatus:""})}),2e3)},e.toggleConfirmationPopupState=function(){e.setState({confirmationPopupState:!e.state.confirmationPopupState})},e.setOptionClickedFor=function(t,a){e.setState({optionClickedFor:{id:t,role:a}}),e.toggleConfirmationPopupState()},e.changeAccess=function(){e.props.refreshToken().then((function(t){fetch("".concat(k,"change-role"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))},body:JSON.stringify({id:e.state.optionClickedFor.id,role:"User"===e.state.optionClickedFor.role?"Admin":"User"})}).then((function(e){return e.json()})).then((function(t){e.setState({movieCreationStatus:t}),e.toggleConfirmationPopupState(),e.toggleToasterState()})).catch((function(e){alert("Unkown Error occured")}))})).catch(console.log)},e.state={tableContent:[],searchfield:"",totalRecords:0,currentPage:1,pageLimit:10,modalState:!1,movieTitle:"",movieGenre:"",movieYear:"",movieCreationStatus:"",toasterState:!1,confirmationPopupState:!1,optionClickedFor:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;"Admin"===this.props.user.role&&("Users"===this.props.activeOption?this.props.refreshToken().then((function(t){fetch("".concat(k,"users?offset=").concat((e.state.currentPage-1)*e.state.pageLimit,"&limit=").concat(e.state.pageLimit),{method:"GET",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({tableContent:t.results,totalRecords:t.totalRecords})})).catch((function(e){alert("Unkown error occured while fetching users")}))})).catch(console.log):this.props.refreshToken().then((function(t){fetch("".concat(y,"movies?offset=").concat((e.state.currentPage-1)*e.state.pageLimit+1,"&limit=").concat(e.state.pageLimit),{method:"GET",headers:{Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({tableContent:t.results,totalRecords:t.totalRecords[0]})})).catch((function(e){alert("Unknown error occured while fetching users")}))})).catch(console.log))}},{key:"componentDidUpdate",value:function(e,t){var a=this;"Admin"!==this.props.user.role||e.user.role===this.props.user.role&&e.activeOption===this.props.activeOption&&t.pageLimit===this.state.pageLimit&&t.currentPage===this.state.currentPage&&t.movieCreationStatus===this.state.movieCreationStatus||(e.activeOption!==this.props.activeOption&&this.setState({currentPage:1,pageLimit:10,searchfield:""}),"Users"===this.props.activeOption?this.props.refreshToken().then((function(e){fetch("".concat(k,"users?offset=").concat((a.state.currentPage-1)*a.state.pageLimit,"&limit=").concat(a.state.pageLimit,"&search=").concat(a.state.searchfield),{method:"GET",headers:{Authorization:"Bearer ".concat(a.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(e){a.setState({tableContent:e.results,totalRecords:e.totalRecords})})).catch((function(e){alert("Unkown error occured while fetching users")}))})).catch(console.log):this.props.refreshToken().then((function(e){fetch("".concat(y,"movies?offset=").concat((a.state.currentPage-1)*a.state.pageLimit+1,"&limit=").concat(a.state.pageLimit,"&search=").concat(a.state.searchfield),{method:"GET",headers:{Authorization:"Bearer ".concat(a.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(e){a.setState({tableContent:e.results,totalRecords:e.totalRecords[0]})})).catch((function(e){alert("Unknown error occured while fetching users")}))})).catch(console.log))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,"Admin"===this.props.user.role?r.a.createElement("div",{className:"flex"},r.a.createElement(W,{Options:["Users","Movies"],active:this.props.activeOption}),r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement("div",{className:"flex justify-end tc"},r.a.createElement("div",{style:{width:"50vw",display:"flex"}},r.a.createElement(X,{searchChange:this.onSearch,loadResults:this.loadResults}),"Movies"===this.props.activeOption?r.a.createElement(z,{action:"Create Movie",takeAction:this.toggleModalState}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(F,{modalState:this.state.modalState,toggle:this.toggleModalState},r.a.createElement(ie,{toggle:this.toggleModalState,setMovieTitle:this.setMovieTitle,setMovieGenre:this.setMovieGenre,setMovieYear:this.setMovieYear,onFormSubmit:this.createMovie})),r.a.createElement(B,{toasterState:this.state.toasterState,toggle:this.toggleToasterState,message:this.state.movieCreationStatus}),0==this.state.totalRecords?r.a.createElement("div",{className:"tc",style:{height:"70vh",paddingTop:"22vh"}},r.a.createElement("h3",{className:"f2"},"No Results Found")):r.a.createElement("div",{className:"table-scroll tc"},r.a.createElement(se,{contents:this.state.tableContent,onOptionClick:this.setOptionClickedFor})),r.a.createElement(F,{modalState:this.state.confirmationPopupState,toggle:this.toggleConfirmationPopupState},r.a.createElement(ce,{legend:"Confirmation required",label:"Are you sure to change access for user with id ".concat(this.state.optionClickedFor.id),onConfirmation:this.changeAccess})),r.a.createElement(oe,{totalRecords:this.state.totalRecords,pageLimit:this.state.pageLimit,onPageSelect:this.onPageSelect,onPageLimitChange:this.onPageLimitChange,currentPage:this.state.currentPage}))):r.a.createElement("div",{className:"tc",style:{height:"70vh",paddingTop:"22vh"}},r.a.createElement("h3",{className:"f6"},"You have lost or don't have permission to view this page. Please contact your administrator for access")))}}]),a}(n.Component),me=Object(N.a)(le),Ae=a(27),he=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).userAuth=function(t){t?e.setState({isSignedIn:t}):e.refreshToken().then((function(a){fetch("".concat("http://localhost:8000/","logout"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))},body:JSON.stringify({refresh_token:e.props.cookies.get("refresh_token")})}).then((function(e){return e.statusText})).then((function(a){"OK"===a&&(e.setState({isSignedIn:t}),e.setState({user:{}}),e.props.cookies.remove("id_token"),e.props.cookies.remove("refresh_token"),e.props.history.push("/signin"))})).catch((function(e){alert("Error while logging out - ".concat(e))}))})).catch((function(a){e.setState({isSignedIn:t}),e.setState({user:{}}),e.props.history.push("/signin")}))},e.getUser=function(){e.refreshToken().then((function(t){fetch("".concat("http://localhost:8000/","user/current"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.cookies.get("id_token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({user:t}),e.userAuth(!0)}))})).catch((function(e){console.log(e)}))},e.refreshToken=function(){var t=new Date;return new Promise((function(a,n){e.props.cookies.get("id_token")&&1e3*Object(Ae.a)(e.props.cookies.get("id_token")).exp-500<t.getTime()?fetch("".concat("http://localhost:8000/","token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e.props.cookies.get("refresh_token")})}).then((function(e){return e.json()})).then((function(t){e.props.cookies.set("id_token",t.id_token,{path:"/",maxAge:86400}),a("Token refreshed in cookie")})).catch((function(t){e.state.isSignedIn&&e.setState({isSignedIn:!1}),n(Error("Error while refreshing token in cookie"))})):void 0===e.props.cookies.get("id_token")||void 0===e.props.cookies.get("refresh_token")?(e.state.isSignedIn&&e.setState({isSignedIn:!1}),n(Error("Cookes expired"))):a("Tokens are valid")}))},e.state={isSignedIn:!1,user:{}},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;void 0===this.props.cookies.get("id_token")||void 0===this.props.cookies.get("refresh_token")||this.state.isSignedIn?this.setState({isSignedIn:!1}):this.refreshToken().then((function(t){e.userAuth(!0)})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){void 0!==this.props.cookies.get("id_token")&&void 0!==this.props.cookies.get("refresh_token")?Object.hasOwnProperty.call(this.state.user,"id")||this.getUser():this.setState({isSignedIn:!1})}},{key:"componentDidUpdate",value:function(e){e.cookies.get("refresh_token")!==this.props.cookies.get("refresh_token")&&(this.props.cookies.get("id_token")&&this.props.cookies.get("refresh_token")||this.setState({isSignedIn:!1}))}},{key:"render",value:function(){var e,t,a,n,s=this,o=["recommendations","popularmovies","Action","Comedy","Adventure","Sci-Fi","Thriller","Horror","Drama","Mystery"].map((function(e){return r.a.createElement(T,{userId:s.state.user.id,genre:e,isSignedIn:s.state.isSignedIn,key:e,refreshToken:s.refreshToken})}));return r.a.createElement("div",null,this.state.isSignedIn?r.a.createElement(S.a,{to:(null===(e=this.props.location.state)||void 0===e?void 0:e.from)||"/signin"!==(null===(t=this.props.location)||void 0===t?void 0:t.pathname)&&"/signup"!==(null===(a=this.props.location)||void 0===a?void 0:a.pathname)&&(null===(n=this.props.location)||void 0===n?void 0:n.pathname)||"/"}):r.a.createElement(r.a.Fragment,null),r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/movie/:movieId"},r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"movie",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(G,{userId:this.state.user.id,isSignedIn:this.state.isSignedIn,refreshToken:this.refreshToken})),r.a.createElement(S.b,{exact:!0,path:"/signin"},r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"signin",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(Q,{getUser:this.getUser,userAuth:this.userAuth})),r.a.createElement(S.b,{exact:!0,path:"/signup"},r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"signup",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(Y,{getUser:this.getUser,userAuth:this.userAuth})),r.a.createElement(S.b,{exact:!0,path:"/search"},r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"search",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(J,null)),r.a.createElement(S.b,{exact:!0,path:"/movies"},this.state.isSignedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"admin",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(me,{activeOption:"Movies",user:this.state.user,refreshToken:this.refreshToken})):r.a.createElement(S.a,{to:{pathname:"/signin",state:{from:this.props.location.pathname}}})),r.a.createElement(S.b,{exact:!0,path:"/users"},this.state.isSignedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"admin",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(me,{activeOption:"Users",user:this.state.user,refreshToken:this.refreshToken})):r.a.createElement(S.a,{to:{pathname:"/signin",state:{from:this.props.location.pathname}}})),r.a.createElement(S.b,{exact:!0,path:"/generalinformation"},this.state.isSignedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"profile",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(re,{user:this.state.user,getUser:this.getUser,activeOption:"General Information",refreshToken:this.refreshToken})):r.a.createElement(S.a,{to:{pathname:"/signin",state:{from:this.props.location.pathname}}})),r.a.createElement(S.b,{exact:!0,path:"/settings"},this.state.isSignedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"profile",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(re,{user:this.state.user,getUser:this.getUser,activeOption:"Settings",refreshToken:this.refreshToken})):r.a.createElement(S.a,{to:{pathname:"/signin",state:{from:this.props.location.pathname}}})),r.a.createElement(S.b,{exact:!0,path:"/"},r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"home",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement("div",null,o)),r.a.createElement(S.b,{exact:!0,path:"/:genre"},r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"genre",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(P,{userId:this.state.user.id,isSignedIn:this.state.isSignedIn,refreshToken:this.refreshToken})),r.a.createElement(S.b,{exact:!0,path:"/similarmovies/:similartomovieId"},r.a.createElement(L,{isSignedIn:this.state.isSignedIn,userType:this.state.user.role,route:"similarmovies",userAuth:this.userAuth,avatarId:this.state.user.avatar_id}),r.a.createElement(P,{userId:this.state.user.id,isSignedIn:this.state.isSignedIn,refreshToken:this.refreshToken}))))}}]),a}(n.Component),de=Object(S.i)(Object(N.a)(he));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(de,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.54af28d3.chunk.js.map